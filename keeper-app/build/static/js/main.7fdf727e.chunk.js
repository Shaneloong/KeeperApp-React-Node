(this["webpackJsonpkeeper-app"]=this["webpackJsonpkeeper-app"]||[]).push([[0],{40:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),o=n(5),s=n(32),m=n.n(s),u=n(34),i=n.n(u);var d=function(e){return c.a.createElement("header",{className:"d-flex align-items-center"},c.a.createElement("h1",null,c.a.createElement(m.a,null),"Keeper"),""!==e.isLoggedIn&&"undefined"!==e.isLoggedIn&&c.a.createElement("div",{className:"ms-auto btn btn-outline-secondary",onClick:e.clicked},c.a.createElement(i.a,null)))};var f=function(){var e=(new Date).getFullYear();return c.a.createElement("footer",null,c.a.createElement("p",null,"Copyright \u24d2 ",e))},p=n(35),E=n.n(p);var b=function(e){return c.a.createElement("div",{className:"note"},c.a.createElement("h1",null,e.title),c.a.createElement("p",null,e.content),c.a.createElement("button",{onClick:function(){e.onDelete(e.id)}},c.a.createElement(E.a,null)))},h=n(12),g=n(10),v=n(36),N=n.n(v),j=n(67),y=n(68);var O=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],l=n[1],s=Object(a.useState)({title:"",content:""}),m=Object(o.a)(s,2),u=m[0],i=m[1];function d(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(h.a)({},n,a))}))}return c.a.createElement("div",null,c.a.createElement("form",{className:"create-note"},r&&c.a.createElement("input",{name:"title",onChange:d,value:u.title,placeholder:"Title"}),c.a.createElement("textarea",{name:"content",onFocus:function(){l(!0)},onChange:d,value:u.content,placeholder:"Take a note...",rows:r?"3":"1"}),c.a.createElement(y.a,{in:r},c.a.createElement(j.a,{onClick:function(t){e.onAdd(u),i({title:"",content:""}),t.preventDefault()}},c.a.createElement(N.a,null)))))};var w=function(e){var t=Object(a.useState)({username:"",password:""}),n=Object(o.a)(t,2),r=n[0],l=n[1];function s(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(h.a)({},n,a))}))}return c.a.createElement("div",{className:"container-fluid my-5 w-25"},c.a.createElement("h1",{className:"my-5 text-center"},"Login"),!e.isLoggedIn&&c.a.createElement("p",{className:"text-danger"},"Invalid Credentials"),c.a.createElement("form",null,c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"form-label"},"Username"),c.a.createElement("input",{type:"text",onChange:s,value:r.username,name:"username",placeholder:"Username",className:"form-control"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"form-label"},"Password"),c.a.createElement("input",{type:"password",onChange:s,value:r.password,name:"password",placeholder:"Password",className:"form-control"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("p",null,"Dont have an account? ",c.a.createElement("button",{className:"btn text-decoration-underline text-primary",onClick:e.clicked},"Register Here"))),c.a.createElement("div",{className:"mb-3"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(t){e.onSubmitForm(r),t.preventDefault()}},"Login"))))};var S=function(e){var t=Object(a.useState)({username:"",password:"",retypePassword:""}),n=Object(o.a)(t,2),r=n[0],l=n[1];function s(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(h.a)({},n,a))}))}return c.a.createElement("div",null,c.a.createElement(d,{isLoggedIn:e.isLoggedIn}),c.a.createElement("div",{className:"my-5 container-fluid w-25"},c.a.createElement("h1",{className:"my-5 text-center"},"Register"),c.a.createElement("p",{className:"text-success"},e.success&&"Successfully Registered"),c.a.createElement("p",{className:"d-none"},e.success&&setTimeout(e.clicked,3e3)),c.a.createElement("form",null,c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"form-label"},"Username"),c.a.createElement("input",{type:"text",onChange:s,value:r.username,name:"username",placeholder:"Username",className:"form-control"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"form-label"},"Password"),c.a.createElement("input",{type:"password",onChange:s,value:r.password,name:"password",placeholder:"Password",className:"form-control"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("label",{className:"form-label"},"Retype Password"),c.a.createElement("input",{type:"password",onChange:s,value:r.retypePassword,name:"retypePassword",placeholder:"Retype Password",className:"form-control"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement("p",null,"Already have an account? ",c.a.createElement("button",{className:"btn text-primary text-decoration-underline",onClick:function(t){e.clicked(),t.preventDefault()}},"Login Here"))),c.a.createElement("div",{className:"mb-3"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(t){e.onSubmitForm(r),t.preventDefault()}},"Register")))),c.a.createElement(f,null))};var k=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(!1),s=Object(o.a)(l,2),m=s[0],u=s[1],i=Object(a.useState)(localStorage.getItem("currentUser")||""),p=Object(o.a)(i,2),E=p[0],h=p[1],g=Object(a.useState)([]),v=Object(o.a)(g,2),N=v[0],j=v[1];function y(){r((function(e){return!e}))}function k(e){fetch("/notes/"+e).then((function(e){return e.json()})).then((function(e){j(e.notes)}))}function C(e){fetch("/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteIndex:e,userID:E})}).then((function(e){return e.json()})).then((function(e){e.success&&setTimeout(k(E),3e3)}))}return Object(a.useEffect)((function(){""!==E&&"undefined"!==E&&fetch("/notes/"+E).then((function(e){return e.json()})).then((function(e){j(e.notes)}))}),[]),""!==E&&"undefined"!==E?c.a.createElement("div",null,c.a.createElement(d,{clicked:function(){h(""),localStorage.setItem("currentUser",""),j([])},isLoggedIn:E}),c.a.createElement(O,{id:E,onAdd:function(e){e.id=E,fetch("/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success&&setTimeout(k(E),3e3)}))}}),N.map((function(e,t){return c.a.createElement(b,{key:t,id:t,title:e.title,content:e.content,onDelete:C})})),c.a.createElement(f,null)):n?c.a.createElement(S,{clicked:y,success:m,onSubmitForm:function(e){console.log(e),fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){u(e.success),console.log(e)}))},isLoggedIn:E}):c.a.createElement("div",null,c.a.createElement(d,{isLoggedIn:E}),c.a.createElement(w,{onSubmitForm:function(e){fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success&&(h(e.userID),localStorage.setItem("currentUser",e.userID),k(e.userID))}))},clicked:y}),c.a.createElement(f,null))};l.a.render(c.a.createElement(k,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7fdf727e.chunk.js.map